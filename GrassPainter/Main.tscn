[gd_scene load_steps=22 format=3 uid="uid://brj871tb54osq"]

[ext_resource type="PlaneMesh" uid="uid://qh3f3cmqqywb" path="res://addons/terra_brush/meshes/terrain.tres" id="1_cwusi"]
[ext_resource type="Script" path="res://addons/terra_brush/tool_terra_brush.gd" id="2_fepl5"]
[ext_resource type="Script" path="res://addons/terra_brush/res_brush_terrain_color.gd" id="3_cavma"]
[ext_resource type="Script" path="res://addons/terra_brush/res_brush_terrain_height.gd" id="4_tqkqp"]
[ext_resource type="Texture2D" uid="uid://syrkqf8qqt58" path="res://addons/terra_brush/textures/terrain_color.tres" id="4_y5k76"]
[ext_resource type="Texture2D" uid="uid://du3xixmby3lr" path="res://addons/terra_brush/textures/terrain_height.tres" id="5_7v6lk"]
[ext_resource type="Script" path="res://addons/terra_brush/res_brush_grass_color.gd" id="5_bxgil"]
[ext_resource type="Script" path="res://addons/terra_brush/res_brush_grass_spawn.gd" id="6_6hete"]
[ext_resource type="Texture2D" uid="uid://bjw8kja6m16cf" path="res://addons/terra_brush/textures/grass_color.tres" id="8_tuqjl"]
[ext_resource type="Texture2D" uid="uid://dnicjwrqd2l38" path="res://addons/terra_brush/textures/grass_spawn.tres" id="8_w4eg2"]
[ext_resource type="Texture2D" uid="uid://bvid0x0pyktow" path="res://Images/grass_small_texture.png" id="9_iw510"]
[ext_resource type="Texture2D" uid="uid://bs4ojwqd1sslv" path="res://Images/grass_texture.png" id="10_8csdc"]
[ext_resource type="QuadMesh" uid="uid://bn5ftyb51awph" path="res://addons/terra_brush/meshes/grass.tres" id="11_c8twi"]

[sub_resource type="Resource" id="Resource_lntrh"]
script = ExtResource("3_cavma")
color = Color(0.952941, 0.870588, 0.756863, 1)
active = true
surface_texture = ExtResource("4_y5k76")

[sub_resource type="Resource" id="Resource_m7x8k"]
script = ExtResource("4_tqkqp")
strength = 20.0
active = false
surface_texture = ExtResource("5_7v6lk")

[sub_resource type="Resource" id="Resource_0627u"]
script = ExtResource("5_bxgil")
color = Color(0.890196, 0.792157, 0.647059, 1)
active = false
surface_texture = ExtResource("8_tuqjl")

[sub_resource type="Resource" id="Resource_5vbss"]
script = ExtResource("6_6hete")
spawn_type = 1
variant = 0
density = 512
variants = Array[Texture2D]([ExtResource("9_iw510"), ExtResource("10_8csdc")])
billboard_y = true
margin_enable = true
margin_color = Color(0.678431, 0.545098, 0.45098, 1)
active = false
surface_texture = ExtResource("8_w4eg2")

[sub_resource type="HeightMapShape3D" id="HeightMapShape3D_wwe43"]
map_width = 6
map_depth = 6
map_data = PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)

[sub_resource type="BoxShape3D" id="BoxShape3D_rb3e4"]
size = Vector3(5.5, 0.05, 5.5)

[sub_resource type="MultiMesh" id="MultiMesh_f1nad"]
transform_format = 1
instance_count = 1
mesh = ExtResource("11_c8twi")
buffer = PackedFloat32Array(1, 0, 0, -1.21017, 0, 1, 0, 0.0249996, 0, 0, 1, 1.20523)

[sub_resource type="MultiMesh" id="MultiMesh_gxi7y"]
transform_format = 1
mesh = ExtResource("11_c8twi")

[node name="Main" type="Node3D"]

[node name="TerraBrush" type="MeshInstance3D" parent="."]
mesh = ExtResource("1_cwusi")
script = ExtResource("2_fepl5")
brush_scale = 50.0
terrain_color = SubResource("Resource_lntrh")
terrain_height = SubResource("Resource_m7x8k")
grass_color = SubResource("Resource_0627u")
grass_spawn = SubResource("Resource_5vbss")

[node name="Body" type="StaticBody3D" parent="TerraBrush"]

[node name="Height" type="CollisionShape3D" parent="TerraBrush/Body"]
shape = SubResource("HeightMapShape3D_wwe43")

[node name="Base" type="CollisionShape3D" parent="TerraBrush/Body"]
shape = SubResource("BoxShape3D_rb3e4")

[node name="Grass" type="MultiMeshInstance3D" parent="TerraBrush"]
instance_shader_parameters/variant_index = 0
multimesh = SubResource("MultiMesh_f1nad")

[node name="Grass2" type="MultiMeshInstance3D" parent="TerraBrush"]
instance_shader_parameters/variant_index = 1
multimesh = SubResource("MultiMesh_gxi7y")
